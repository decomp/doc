% --- [ Dagger Example ] -------------------------------------------------------

\subsection{Dagger Example}
\label{app:dagger_example}

To demonstrate the capabilities of Dagger, the relocatable object code of a simple \textit{``hello world''} C program was analysed. For reference, the disassembly of the relocatable object code is presented in listing \ref{lst:hello_asm}. Firstly, the \texttt{llvm-dec} tool parsed the relocatable object code (i.e. Mach-o file), disassembled its machine instructions (i.e. x86-64 assembly) and converted each native instruction to semantically equivalent, unoptimised LLVM IR; the listing of which was omitted for the sake of brevity. Lastly, the optimiser of the LLVM compiler framework analysed the unoptimised LLVM IR to produce an optimised version, which is presented in listing \ref{lst:hello_dagger_ll}.

\lstinputlisting[language=nasm, style=nasm, caption={Disassembly of the relocatable object code which was produced from a simple \textit{``hello world''} C program. \label{lst:hello_asm}}]{inc/appendices/dagger_example/hello.asm}

\lstinputlisting[language=llvm, style=nasm, caption={Decompiled LLVM IR, which was produced by Dagger when analysing the relocatable object code which contained the disassembly presented in listing \ref{lst:hello_asm}. \label{lst:hello_dagger_ll}}]{inc/appendices/dagger_example/hello.ll}
